<div class="panel panel-default outer-panel">
  <!-- Default panel contents -->
  <div class="panel-heading"><h3 class="panel-title">Campaign Detail</h3></div>
  <div class="panel-body">
    <dl class="dl-horizontal">
      <dt>Name</dt>
      <dd><%= @campaign.name %></dd>
      <dt>Deadline</dt>
      <dd><%= @campaign.deadline %></dd>
    </dl>
  </div>

  <div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">Wishlists</div>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Book Count</th>
        <th>Wishlist Total</th>
        <th>Donation Total</th>
        <th>&nbsp;</th>
      </tr>
      </thead>
      <tfoot>
        <tr>
          <th colspan="3"><%= render partial: 'new_wishlist' %></th>
          <th><%= WishlistEntry.where(:wishlist_id => @campaign.wishlists).count %></th>
          <th><%= number_to_currency(CatalogEntry.joins(:wishlist_entries => :wishlist).where('wishlist_entries.wishlist_id' => @campaign.wishlists).sum(:price)) %></th>
          <th><%= number_to_currency(Donation.where(:wishlist_id => @campaign.wishlists).sum(:amount)) %></th>
          <th>&nbsp;</th>
        </tr>
      </tfoot>
      <tbody>
      <%= render :partial => 'wishlist', :collection => @campaign.wishlists %>
      </tbody>
    </table>
  </div>

</div>
